. "$(dirname -- "$0")/_/husky.sh"

STAGED_FILES="$(git diff --staged --name-only --diff-filter=ACMR | grep -E '\.(ts|tsx|json)$' || true)"

[ -z "$STAGED_FILES" ] && exit 0

echo "üîß Biome: auto-fix"
pnpm biome check --write $STAGED_FILES || true

git add $STAGED_FILES

echo "üîç Biome: verify"
pnpm biome check $STAGED_FILES
